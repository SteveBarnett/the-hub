const QueryService = require("../data_services/query-service");

module.exports = function(connection){
  const queryService = new QueryService(connection);

    this.addEntity = function(entity){
      return queryService.executeQuery('insert into entity set ?', data);
    };

    this.addUser = function(user){
      return queryService.executeQuery('insert into user set ?', data);
    };

	this.addEntity(entity)
       .then(function(data){
            //data should already contains details about the entity id
            console.log(data.insertId);
            user.entityId = data.insertId;
            return addUser(user);    
       })
       .then(function(user){
       
       });

};
